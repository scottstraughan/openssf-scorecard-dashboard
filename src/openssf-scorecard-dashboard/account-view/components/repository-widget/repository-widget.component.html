@if (repository(); as repository) {
  <div class="overview" (click)="onClick()">
    @if (repository.archived) {
      <div class="notice">
        <osd-icon icon="locked"></osd-icon> Archived
      </div>
    }

    <div class="details">
      <h1 [innerHTML]="repository.name"></h1>
      <p [innerHTML]="repository.description"></p>
    </div>

    <div class="stats">
      <div>
        <osd-icon icon="calendar"></osd-icon>
        <h1 [innerHTML]="repository.lastUpdated | date: 'mediumDate'"></h1>
      </div>
      <div>
        <osd-icon icon="star"></osd-icon>
        <h1 [innerHTML]="repository.stars"></h1>
      </div>
    </div>
  </div>

  <div class="score" title="Click to recheck score" (click)="onReloadScore()">
    @if (loading() == LoadingState.LOAD_SUCCESS) {
      @if (scorecard()?.score; as score) {
        <osd-score-ring [score]="score"></osd-score-ring>
      } @else {
        <osd-icon icon="sad" title="No scorecard available"></osd-icon>
      }
    } @else {
      <osd-loading></osd-loading>
    }
  </div>
}
