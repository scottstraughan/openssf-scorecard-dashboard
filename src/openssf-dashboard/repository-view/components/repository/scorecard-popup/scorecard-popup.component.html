@if (repository(); as repository) {
  @if (repository.scorecard; as scorecard) {
    <div class="header" [ngClass]="getScoreBackgroundColor()">
      <div class="score-color-bg" [style.background-color]="getScoreBackgroundColor()"></div>

      @if (scorecard.score; as score) {
        <div class="score">
          <osd-score-ring [score]="score" fontSize="14px"></osd-score-ring>
        </div>
      }

      <div class="title">
        <div>
          <h1 [innerHTML]="repository.name"></h1>
          <h2>Scorecard generated at {{ scorecard.dateGenerated | date: 'mediumDate' }}.</h2>
        </div>
      </div>

      <div>
        <a [href]="scorecard.url" target="_blank" rel="noopener">
          <osd-button icon="link" label="View on scorecard.dev"></osd-button>
        </a>
      </div>
    </div>

    <div class="container">
      @for (check of repository.scorecard?.checks; track check.name) {
        <osd-scorecard-check [check]="check"></osd-scorecard-check>
      }
    </div>
  }
}
